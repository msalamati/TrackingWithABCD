%!TEX ROOT = ./main.tex

\section{Experimental Evaluation}\label{sec:experiments}
%\MS{List the specifications of the cluster machine/laptop with which we have run our experiments.}
We evaluate a prototype implementation of ALg.~\ref{alg:abcd-with-time-for-tracking}
on two examples. 
The design of nominal controller has been performed on a laptop with core i7-4510u CPU at 3.10GHz, with 8GB of
RAM.
The formal controller synthesis has been performed
on a cluster with 4 Intel Xeon E7-8857 v2 CPUs (48 cores in total) at 3GHz, with 1.5TB of
RAM. %\MS{TODO: adding a table with complete information regarding sizes and times for all of the examples}

%\textcolor{red}{
\subsection{Multi-drone path planning}\label{sec:Multirobot}
In this example, we consider a planning scenario for ten identical drones. A set of initial states ($Init$) and target states ($Goal$) for each drone is specified and depicted in Figure~\ref{fig:MA}. The drones must avoid hitting a physical obstacle that is depicted with green circle in Figure~\ref{fig:MA}. %A physical obstacle is added to the problem over the $2D$ plane, depicted in Figure~\ref{fig:MA} with a yellow circle. 
The threshold for minimum distance from the static obstacle and other drones ($Obs$) is chosen to be $\delta=\begin{bmatrix}0.3&0.3\end{bmatrix}^T$. %and $\delta_{obs}=\begin{bmatrix}2&2\end{bmatrix}^T$.
The control objective is to synthesize a controller for each drone so that in the presence of additive bounded disturbance, beginning from the set $Init^i$, a corresponding target state $Goal^i$ is reached within a finite horizon, while avoiding the obstacle $Obs$ at every time point. 

Every drone is modeled as tuple $\Sigma=(X,U,W,f^u,Y,h^u)$. %The set of state variables $X$ consists of $x_1$, $x_2$ and $x_3$ which denote position in $2D$ plane and movement angle, respectively. The set of input variables includes $u_1$ and $u_2$ which represent linear and angular speeds of each robot. 
Dynamics for each drone takes the form
\begin{equation*}\label{eq:unicycle_ss}
	f^{u}(x(t),u(t))=
	\begin{bmatrix}
		\dot{x_1}\\
		\dot{x_2}\\
		\dot{x_3}
	\end{bmatrix}=
	\begin{bmatrix}
		u_1cos(x_3)\\
		u_1sin(x_3)\\
		u_2
	\end{bmatrix},
\end{equation*}
where $x_1$, $x_2$ denote the position in $2D$ plane, $x_3$ denotes the rotational angle, $u_1$ and $u_2$ represent linear and angular speeds of each drone, respectively. Further, the output mapping is defined as
\[
h^u(x(t))=\begin{bmatrix}
	x_1\\x_2
\end{bmatrix}.
\]
%In the above equation, $u_1(t)$ and $u_2(t)$ denote linear and angular speeds at time $t$, respectively. Further, $x_1(t)$, $x_2(t)$ specify position in $x-y$ plane and $x_3$ denotes the angle at time $t$. 


According to our proposed scheme, we first use ALTRO to design a centralized nominal controller for the product state and input space that satisfies the specification in Equation~\eqref{eq:spec} in the absence of disturbance ($W=\{0\}$). We choose the horizon length $K=102$ and sampling time $\tau=0.1$. ALTRO computes a valid open-loop trajectory $x_{nom}$ in $125$ seconds for the product space with $30$ state and $20$ input variables. Figure \MS{??} (\textbf{top}) illustrates the variation of minimum distance ($D_{min}=min_{i,j}d^{p}\left(h^i(\proj^i(x_{nom})),h^j(\proj^j(x_{nom}))\right)$) for the open-loop trajectories generated by ALTRO. By allowing the disturbance to take non-zero values, there is no guarantee that the open-loop trajectory is followed. Figure \MS{??} (\textbf{bottom}) illustrates variations of distance between two drones when constant additive disturbance $w=\{\begin{bmatrix}0.03,0.03,0.03\end{bmatrix}^T\}$ is being applied (\MS{to both of the drones? or only one of them?}) throughout the whole horizon. It can be noticed that they collide with each other before reaching their corresponding targets. Next, we show how to synthesize local feedback controllers that guarantee satisfaction of specifications in the presence of disturbance. %hereeeThe open-loop trajectories generated by ALTRO ($\set{(x_{0_\nom}^i,\ldots,x_{K_\nom}^i)}_{i\in [1;N]}$) are depicted in solid in Figure~\ref{fig:MA}. Note that the guarantee that open-loop controller gives is only valid in the absence of disturbance. In Figure~\ref{fig:MA}, dotted trajectories correspond to the first and the second robot's paths in $2D$ plane when constant additive disturbance $w=\{\begin{bmatrix}0.03,0.03,0.03\end{bmatrix}\}$ is being applied throughout the whole horizon. It can be noticed that they collide with each other before reaching their corresponding target sets. Next, we show how to synthesize local controllers that guarantee satisfaction of specifications in the presence of disturbance. \MS{1) Use dashed/dotted for trajectories with added disturbance. 2) use $x_1$ and $x_2$ instead of $x$ and $y$ for different axes 3) don't draw the outer circle.}

%We augment each open-loop trajectory with time 
We construct a tube around the (nominal) trajectory produced by ALTRO with the width vector $\varepsilon=\begin{bmatrix}0.16&0.16&0.32\end{bmatrix}^T$.
%Note that $\delta_{col} > \varepsilon$.
 We use SCOTS in order to synthesize (local) feedback controllers that guarantee reachability and obstacle/collision avoidance in the presence of bounded disturbance such that $|W|\leq \begin{bmatrix}0.01&0.01&0.01\end{bmatrix}^T$. We consider state and input spaces to be $X=[0:10]^2\times[-2,3.3]$ and
$U=[-2.4,2.4]^2$, respectively. Choosing state and input partition sizes $\eta_{X}=[0.02,0.02,0.02]^T$ and
$\eta_{U}=[0.3,0.3]^T$ results in $\hat X$ and $\hat U$ with $9.61\times 10^7$ and $289$ points. As we explained in Sec.~\ref{sec:tracking}, we compute the transition system over inter-tube space which has $|\hat P|=3.5\times 10^5$ points in this example.%The bound over additive disturbance is set to be $\begin{bmatrix}0.03&0.03&0.03&0\end{bmatrix}^T$. 
Given the above settings, SCOTS computes abstraction in $??$ minutes for all the drones and synthesizes controllers in about $??$ minutes (in average, abstraction takes $??$ seconds and synthesis takes $??$ seconds). 

\begin{figure}[t]
	\centering
	\includegraphics[width=0.45\textwidth]{figures/MA1.png}
	\caption{The mission map for the path planning example}
\end{figure}\label{fig:MA}


%In this example, we are focusing on number of robots. This example consist of 10 identical unicycle model. Each unicycle should start from its own initial point and reach target set which is shown in Fig. \ref{fig:MA} with green points and red points. while it avoids obstacles and collision with other agents. Unicycle model is described in below.
%\begin{equation}\label{eq:unicycle_ss}
%	f^{u}(x(t),u(t))=
%	\begin{bmatrix}
%	\dot{x_1}\\
%	\dot{x_2}\\
%	\dot{x_3}
%	\end{bmatrix}=
%	\begin{bmatrix}
%	u_1cos(x_3)\\
%	u_1sin(x_3)\\
%	u_2
%	\end{bmatrix}.
%\end{equation}
%In Eq. \ref{eq:unicycle_ss} $u_1$ is linear speed and $u_2$ is  angular speed and $x_1$ and $x_2$ represents positions and $x_3$ is the angle. Here goal of the problem is designing a controller which satisfy the specifications which mentioned in sec. \ref{sec:Problem_statement}. For this purpose, According to sec.\ref{sec:nominal trajectory} at first we combine all of unicycle dynamics to create a centralized model of the centralized system. The centralized system has $10\times3$ dimension for state space and $10\times2$ dimension for input space. For collision avoidance and obstacle avoidance we use $\delta_{col}=1.5$ and $\delta_{obs}=2$ and we use euclidean distance as a metric for distance in 2D space. In this step, we solved mentioned problem with ALTRO with sample time 0.05 and 200 points for trajectory. Computation takes 138 seconds. Result of ALTRO is illustrated in fig \ref{fig:MA}. 
%In next step we synthesize close loop controller using ABCD with $\varepsilon=[0.16,0.16,0.16]$.  As we mentioned in Prob. \ref{alg:abcd-with-time-for-tracking} we are going to to design a controller that is able to track the trajectory with $\varepsilon$ distance in every time step which is also robust to the disturbance .\MZ{Here we can split the centralized system to 10 separate system and design a close loop controller for each one of them separately.} In order to do this step, we select $\varepsilon$ in a way that it satisfies $\delta_{col} > 2\sqrt{\varepsilon_x^2+\varepsilon_y^2}$ (since tubes should not intersect with each other). Then we are able to design a controller guaranteeing the specifications for each agent independently using Alg. \ref{alg:abcd-with-time-for-tracking} and SCOTS. We select parameters in this way:\\
%$\widetilde{X}=[-1:11]*[-1:11]*[-\pi,\pi]*[0,1]$\\
%$U=[-3,3]*[-3,3]$\\
%$\eta_{\widetilde{X}}=[0.04,0.04,0.04,0.05]$\\
%$\eta_{U}=[0.6,0.6]$\\
%number of states = about $7*10^7$\\
%reduced number of states = about $7*10^7$\\
%number of inputs =121\\
%
%Abstraction in total for 10 systems takes about 12 minutes(average 100 seconds for each system) and synthesizing controller takes about 2 minutes(near 15 seconds for each system). Controller designed in this way is able to overcome bounded additive disturbance $|w|\leq[0.03,0.03,0.03]$ (for all of unicycles). Nominal controller which is produced by ALTRO with presence of this disturbance will be pushed outside of $\epsilon$ tube and also as it shown in the Fig.\ref{fig:MA}, trajectory 1 and 2 will have collision with this value of disturbance. 




 %Figure~\ref{fig:inv_pend} demonstrates variations of disturbance limit under which SCOTS is able to find a controller for different tube width. %It can be observed that by increasing the tube width, SCOTS is able to synthesize a controller for larger disturbance levels. Figure~\ref{fig:invpend_traj} demonstartes trajectories of the system  \eqref{eq:inv_pend_ssq} governed by controllers synthesized by ALTRO and SCOTS under appliance of constant disturbance vector \MS{$[??,??]$}. As expected, the controller designed by ALTRO is not able to tackle disturbance, while using the controller generated by SCOTS, the trajectory remains within the desired bound.

%\begin{figure}\label{fig:inv_pend}
%	\includegraphics[]{}
%	\caption{Variations of disturbance limit for which SCOTS is able to find a controller with tube size}
%\end{figure}
%\begin{figure}\label{fig:invpend_traj}
%	\includegraphics[]{}
%	\caption{}
%\end{figure}
%\textcolor{red}{
\subsection{Crane and Forklift}
The goal of this example is to study performance of our method for controlling a number of robots with different dynamics. Consider a production line wherein a crane (modeled as a cart-pole system) puts some items at certain points and a forklift is in charge of picking these items up. It is assumed that at its lowest height the crane's hook is positioned such that the forklift cannot pass. In particular, Figure~\ref{fig:cr_and_lft} shows a scenario wherein the crane (initially positioned toward left of the boom) needs to unload at the other end of the boom. At the same time, the forklift (initially positioned near the right end of the boom) needs to pick some item left near the left end of the boom. The goal is to control both the crane and the forklift so that the forklift reaches the object without colliding with the crane. 

We model the crane and forklift by tuples $\Sigma^1=(X^1,U^1,W^1,f^c,Y^1,h^c)$ and $\Sigma^2=(X^2,U^2,W^2,f^l,Y^2,h^l)$, respectively. The crane is modeled as cart-pole system with the dynamical model taken from \cite{Barto1983}:
\begin{align*}
	\ddot{\theta} &= \frac{M_tg\sin(\theta) - \cos(\theta)(F + M_pl \dot{\theta}^2 \sin(\theta))}{l(4/3 M_t- M_p \cos^2(\theta))}=f^c_1(\theta,\dot{\theta},F)\\
	\ddot{z}&= \frac{F + M_pl \dot{\theta}^2 \sin(\theta)-M_pl \ddot{\theta} \cos(\theta)}{M_t}=f^c_2(\theta,\dot{\theta},F),
\end{align*}
where
\begin{itemize}
	\item[] $g=-9.8$ $m/s^2$ is the acceleration of gravity,
	\item[] $M_c=1$ kg is the cart mass,
	\item[] $M_p=0.1$ kg is the pole mass,
	\item[] $M_t=m_c+m_p$ denotes the total mass,
	\item[] $l=0.5$ m is the half-pole length.
\end{itemize}
Further, cart's position, pole's angle and input force to the cart are denoted by $x_1^{(1)}=z$, $x_3^{(1)}=\theta$ and $u^{(1)}=F$, respectively. State space model of the crane is of the following form:
 %for which the set of state variables $X^1$ consists of $x_1^{(1)}$, $x_2^{(1)}$, $x_3^{(1)}$ and $x_4^{(1)}$ denoting (linear) position and speed of the cart and (angular) position and speed of the pole, respectively. The set of input variables includes $u_1^{(1)}$ which represents linear acceleration of the cart. Finally, crane's dynamics takes the form for an inverted pendulum (see, e.g., \cite{barto1983neuronlike}) and can be written as
\[f^{c}(x^{(1)}(t),u^{(1)}(t))=\begin{bmatrix}
	\dot{x}_1^{(1)}\\
	\dot{x}_2^{(1)}\\
	\dot{x}_3^{(1)}\\
	\dot{x}_4^{(1)}
\end{bmatrix}=\begin{bmatrix}
\dot{z}\\
\ddot{z}\\
\dot{\theta}\\
\ddot{\theta}
\end{bmatrix}=
\begin{bmatrix}
	x_2^{(1)}\\
	f^c_1(x_3^{(1)},x_4^{(1)},u^{(1)})\\
	x_4^{(1)}\\
	f^c_2(x_3^{(1)},x_4^{(1)},u^{(1)})\\
\end{bmatrix}.\]
%with
%\begin{align}
%	f^c_2(x{(1)},u^{(1)})=\frac{g\;\sin(x_3^{(1)})}{}
%\end{align}
%\MS{what are $f^c_1$ and $f^c_2$?}
The output mapping for the crane is defined as
\[
h^c(x^{(1)}(t))=\begin{bmatrix}
	x_1^{(1)}+l \cos(x_3^{(1)})\\
	y_1-l \sin(x_3^{(1)})
\end{bmatrix},
\]
where, $y_1>0$ is a constant that denotes the cart's height from the ground.
The forklift's dynamics takes the form
\[f^{l}(x^{(2)}(t),u^{(2)}(t))=\begin{bmatrix}
\dot{x}_1^{(2)}\\ \dot{x}^{(2)}_2 \end{bmatrix}=\begin{bmatrix} x^{(2)}_2\\ u^{(2)} \end{bmatrix},
\]
where $x_1^{(2)}$ and $x_2^{(2)}$ denote the forklift's position and speed and $u^{(2)}$ represents the forklift's control input (acceleration). The output mapping for the crane is defined as
\[
h^l=\begin{bmatrix}
	x_1^{(2)}\\
	y_2
\end{bmatrix},
\]
where, $y_2>0$ is a constant that denotes the height of the forklift's head with respect to the ground.

As promised, we use ALTRO in the first step to generate a valid trajectory for the case that $W=\{0\}$. There is no static obstacle defined for this example and for minimum distance between the crane and the forklift we choose $\delta=\begin{bmatrix}0.035&0.035\end{bmatrix}$. The sampling time and the horizon length are fixed to $\tau=0.1$ and $K=70$, respectively. Given these settings, ALTRO was capable of generating a valid nominal trajectory in $0.65$ seconds. Figure \ref{fig:cr_and_lft} demonstrates snapshots of the produced trajectory. Surprisingly enough, applying (constant) additive disturbance $W=\begin{bmatrix}0&0.02&0&0\end{bmatrix}^T$ (to the cart-pole system) causes collision between the crane and forklift in the middle of the mission.

In the next step, we use SCOTS in order to compute a feedback controller tolerating additive disturbance $|W^1|\leq\begin{bmatrix}0&0.02&0&0\end{bmatrix}^T$ for the crane and $|W^2|\leq\begin{bmatrix}0&0.1\end{bmatrix}^T$ for the forklift. %We note that the selection of tube sizes need to satisfy the following inequality:
%\[ \delta_{col}> \varepsilon_{1}^{(1)} + l\times\varepsilon_{3}^{(1)} + \varepsilon_{1}^{(2)},\]
%where $\varepsilon_{1}^{(1)}$, $\varepsilon_{3}^{(1)}$ denote tube sizes over $x_1^{(1)}$ and $x_3^{(1)}$, $l$ denotes the length of the rope between the cart and the hook and $\varepsilon_{1}^{(2)}$ denotes the tube size over $x_1^{(2)}$. 
We choose state and input spaces for the crane to be $X^{(1)}=[0,5.06]\times[-0.59,2.18]\times[1.66,4.14]\times[-4.7,4.45]$ and $U^{(1)}=[-7,7]$, respectively. For the forklift, we set \MS{$X^{(2)}=??$} and $U^{(2)}=[-7,7]$. %Next, we augment both dynamics with time and 
Next, we choose state and input partition sizes $\eta_{{X}^{(1)}}=\begin{bmatrix}0.015&0.035&0.016&0.064\end{bmatrix}$, $\eta_{U^{(1)}}=0.2$,  $\eta_{\widetilde{X}^{(2)}}=\begin{bmatrix}0.015&0.03\end{bmatrix}$ and $\eta_{U^{(2)}}=0.1$. These selections yield discretized models with $|\hat X^{(1)}|=2.5\times 10^9$, $|\hat U^{(1)}|=71$, $|\hat X^{(2)}|=6.7\times 10^4$ and $|\hat U^{(2)}|=141$ points for the the crane and forklift, respectively. Next, we limit both of the state spaces into tubes constructed around the open-loop trajectories with sizes specified as $\varepsilon^{(1)}=\begin{bmatrix}0.135&0.385&0.176 &0.768\end{bmatrix}^T$ and \MS{$\varepsilon^{(2)}=\begin{bmatrix}9&2\end{bmatrix}$}. This reduces size of state spaces into $|\hat P^{(1)}|=1.2\times 10^7$ and $|\hat P^{(2)}|=3.1\times 10^4$. Given the above settings, SCOTS was able to synthesize controller for the crane and forklift in about $35$ and $1$ seconds, respectively.
			
\begin{figure}[t]
	\centering
	\includegraphics[width=0.45\textwidth]{figures/crane_and_lifter.png}
	\caption{Illustration of the reference trajectories produced by ALTRO for the crane and forklift example}
\end{figure}\label{fig:cr_and_lft}


%In this example, we show the method can handle multiple heterogeneous dynamical systems. This example is Modelling a special situation in a factory(shown in fig \ref{fig:cr_and_lft}) . Assume there is a crane and and a forklift. Each one of them should reach their destination without having any accident(satisfying specs). The Crane position will change from 0 to 5 and the forklift from 9 to 4.  Here we model the forklift using $\begin{bmatrix} \dot{x_1}\\ \dot{x_2} \end{bmatrix}=\begin{bmatrix} x_2\\ u \end{bmatrix}$ ($x_1$ and $x_2$ are representing position and velocity) and for the crane we use inverted pendulum model with exactly same configuration in \cite{barto1983neuronlike}: \\ 
%\[\begin{bmatrix}
%\dot{x}\\
%\Ddot{x}\\
%\dot{\theta}\\
%\Ddot{\theta}
%\end{bmatrix}=\begin{bmatrix}
%\dot{x_1}\\
%\dot{x_2}\\
%\dot{x_3}\\
%\dot{x_4}
%\end{bmatrix}=\begin{bmatrix}
%x_2\\
%g(x_3,x_4,u)\\
%x_4\\
%f(x_3,x_4,u)\\
%\end{bmatrix}\]
%
%where $x$ represent position of the cart  and $\theta$ is angle of the pole, f and g are non-linear functions. The process of controller design is similar to Sec. \ref{sec:MultiAgent}; At first we find a nominal trajectory with ALTRO with required specifications then we robustifing it using our method with modified ABCD.\\
%In this example we do not have any static obstacle, but for collision avoidance we use euclidean distance as the metric with $\delta=0.4$ for measuring distance between crane and forklift. We consider hook of crane as a point mass with a radius and forklift as several point mass on circumference of it, So we consider minimum distance between the hook and points of the forklift as the distance. ALTRO solve this trajectory generation problem using sampling time =0.1 and number of points=40 in 10.7 seconds.\\
%to guarantee collision avoidance specification we should select tube sizes to satisfy:
%\[ \delta_{col}> \varepsilon_x + l*\varepsilon_\theta + \varepsilon^\prime_x\]
%where $\varepsilon_x$ and $\varepsilon_\theta$ are tube sizes for position and angle in crane model (cart pole) and l is the length of the joint and $\varepsilon^\prime_x$ is tube size for position of the forklift.
%In next phase we use finite abstraction with $\varepsilon_x=9*0.015$ and $\varepsilon_\theta=11*0.015$ and $\varepsilon^\prime_x=9*0.015$. It takes about 1000 seconds for crane (cart-pole system) with (1.15)*($10^{11}$) number of input-states pairs and ($7*10^6$)*(71) reduced number of states and synthesis takes 35 seconds. For forklift abstractions abstraction and synthesis will finish in less than a second.\\
%The nominal controller with disturbances $w_1=[0,0.02,0,0]$ for crane and $w_2=[0,0.1]$ for forklift will fail collision specification.
%
%


%} 


\subsection{Lane Merging}
Finally, we study a lane merging problem wherein multiple controlled vehicles are driving over two merging lanes (Fig.~\ref{fig:merge}). A dangerous situation may occur at the merging point of the two lanes if vehicles are not controlled properly. Different variants of this problem has been studied in the literature (see, e.g., \cite{xiao2019merging,xiao2020merging}). Without seeking to optimize fuel consumption or travel time, we set the goal to control the vehicles to pass the merging zone safely. In particular, consider a situation where initially three cars are driving on each of the two lanes (Fig~\ref{fig:merge}, top). The control objective for each vehicle is to pass the red dashed line within a finite horizon without hitting the road's sides or colliding with other vehicles. 

Every vehicle is modeled as tuple $\Sigma=(X,U,W,f^m,Y,h^m)$. 
Dynamics for each vehicle takes the form
\begin{equation*}\label{eq:unicycle_ss}
	f^{m}(x(t),u(t))=
	\begin{bmatrix}
		\dot{x_1}\\
		\dot{x_2}
	\end{bmatrix}=
	\begin{bmatrix}
		u_1\\
		u_2
	\end{bmatrix},
\end{equation*}
where $x_1$, $x_2$ denote the vehicle's position in $2D$ plane, $u_1$ and $u_2$ represent the vehicle's speed coordinates, respectively. The output mapping is defined as
\[
h^m(x(t))=x(t).
\]
For collision and obstacle avoidance, we choose \MS{$\delta=\begin{bmatrix}??&??\end{bmatrix}$}. The sampling time and the horizon length are fixed to \MS{$\tau=??$ and $K=??$}, respectively. Given these settings, ALTRO generates a valid nominal trajectory in \MS{$??$} seconds. Figure \ref{fig:merge} demonstrates snapshots of the produced trajectory. Next, we use SCOTS in order to compute a feedback controller tolerating additive disturbance \MS{$|W|\leq\begin{bmatrix}??&??\end{bmatrix}^T$.} We choose state and input spaces for each vehicle's model to be \MS{$X=??$} and \MS{$U=??$}, respectively. Next, we choose state and input partition sizes \MS{$\eta_{X}=\begin{bmatrix}??&??\end{bmatrix}^T$, $\eta_{U}=\begin{bmatrix}??&??\end{bmatrix}^T$}. These selections yield discretized models with \MS{$|\hat X|=??$, $|\hat U|=??$} points. Next, we limit the state spaces into tubes constructed around the open-loop trajectories with sizes specified as \MS{$\varepsilon=\begin{bmatrix}??&??\end{bmatrix}^T$}. This reduces size of state space into \MS{$|\hat P|=??$}. Given the above settings, SCOTS was able to synthesize controller for all of the vehicles in about \MS{$??$} seconds (\MS{$??$} seconds in average).




%
%consider the situation which is found in ref[??]. In this situation we consider 6 numbers of car in two different lanes(merging lane and main lane) . Here the goal is reaching the red line ( x position should get bigger than 15) which is shown in fig ?? while they satisfying specifications ( avoid collision with other cars and border of lanes) .
%Number of cars is fixed it means number of cars not changing during simulation time. but it also doesn't mean all of the cars reach the target at same time.\\
%The problem that we are solving has several differences with the example on the paper. they optimize time and fuel for each car and tehy consider several constraints for speed and positions. they also consider 2d linear model for each car. Here we only try to solve the reachability problem. we consider reach top speed limitation and angle acceleration and lanesborders As constraints. For each car we consider the model represented in eq[6] (same model as multi-car example) which has more dimension and is nonlinear.


\begin{figure}
	\caption{Illustration of the reference trajectories produced by ALTRO for the lane merging example}
	\label{fig:merge}
	\centering
	\includegraphics[width=0.45\textwidth,height=0.5\textheight]{figures/merge2.png}

\end{figure}




%\section{Present Challenges}
%
%\begin{enumerate}
%	\item In some examples, it was necessary to consider a larger control input space for the SCOTS part, than what was used in the ALTRO part.
%	Otherwise, the SCOTS would not be able to track the nominal trajectory within the given precision using any level of discretization. 
%	\item For the ship example, applying the largest disturbance with which SCOTS is able to compute a controller, the trajectory resulted from using the open loop controller does not leave  $\varepsilon-$tube around it; in general magnitude of disturbance for which SCOTS can find a controller is relatively small for most of examples that we have tried.
%\end{enumerate}




%\begin{table*}
%	\centering
%	\caption{Results
%	%\textmd{}
%	}
%	\label{tab:ipd}
%	\renewcommand{\arraystretch}{1.2}
%	\setlength{\tabcolsep}{0.7em} % for the horizontal padding
%	\resizebox{1\columnwidth}{!}{
%		\begin{tabular}{l|rrrrr}
%			\toprule
%			case-studies&\multicolumn{1}{l}{$|X|+|U|$}&
%			\multicolumn{1}{c}{$T_{AL}$} &
%			%\multicolumn{1}{c}{max} &
%			%\multicolumn{1}{c}{$err(u_{i})$} &
%			\multicolumn{1}{c}{$T_{SC}$}&
%			\multicolumn{1}{c}{$|\hat X|$}&
%			\multicolumn{1}{c}{$|\hat X^r|$}\\
%			
%			\midrule
%			
%			\multirow{1}{*}{\rotatebox{0}{multi-car}} & $50$ & $138$  & $720$ & $3.5\times10^5$& $??$ \\
%			
%			\midrule
%			
%			\multirow{1}{*}{\rotatebox{0}{crane and forklift}} & $6$ & ??  & ?? & ?? & ?? \\
%			
%			\midrule
%			
%			\multirow{1}{*}{\rotatebox{0}{lane merging}} & $24$ & ??  & ?? & ?? & ?? \\
%			\bottomrule
%	\end{tabular}}
%\end{table*}
